{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/Archive/app/blog/posts/%5Bid%5D/edit/page.tsx"],"sourcesContent":["export default async function EditPost({ params }: { params: { id: string } }) {\r\n    const session = await getServerSession(authOptions);\r\n    if (!session) return \"Not allowed\";\r\n  \r\n    const postId = Number(params.id);\r\n    if (isNaN(postId)) return \"Invalid post id\";\r\n  \r\n    const post = await prisma.post.findUnique({\r\n      where: { id: postId },\r\n    });\r\n  \r\n    if (!post) return \"Post not found\";\r\n    if (post.authorId !== session.user.id) return \"Not your post\";\r\n  \r\n    async function updatePost(formData: FormData) {\r\n      \"use server\";\r\n  \r\n      const title = formData.get(\"title\") as string;\r\n      const content = formData.get(\"content\") as string;\r\n  \r\n      await prisma.post.update({\r\n        where: { id: postId },\r\n        data: { title, content },\r\n      });\r\n  \r\n      revalidatePath(\"/blog/posts\");\r\n      redirect(\"/blog/posts\");\r\n    }\r\n  \r\n    return (\r\n      <PostForm\r\n        mode=\"edit\"\r\n        action={updatePost}\r\n        initialTitle={post.title}\r\n        initialContent={post.content}\r\n      />\r\n    );\r\n  }\r\n  "],"names":[],"mappings":";;;;;;;;;;;;MAcI,wBAAA,eAAe,mCAAW,QAAkB;;IAG1C,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,UAAU,SAAS,GAAG,CAAC;IAE7B,MAAM,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,OAAO;YAAE,EAAE;QAAS;QACpB,MAAM;YAAE;YAAO;QAAQ;IACzB;IAEA,eAAe;IACf,SAAS;AACX;+OAbA;AAdW,eAAe,SAAS,EAAE,MAAM,EAA8B;IACzE,MAAM,UAAU,MAAM,iBAAiB;IACvC,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,SAAS,OAAO,OAAO,EAAE;IAC/B,IAAI,MAAM,SAAS,OAAO;IAE1B,MAAM,OAAO,MAAM,OAAO,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE,IAAI;QAAO;IACtB;IAEA,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI,KAAK,QAAQ,KAAK,QAAQ,IAAI,CAAC,EAAE,EAAE,OAAO;QAE/B,aAAf;IAeA,qBACE,8OAAC;QACC,MAAK;QACL,QAAQ;QACR,cAAc,KAAK,KAAK;QACxB,gBAAgB,KAAK,OAAO;;;;;;AAGlC"}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/Archive/.next-internal/server/app/blog/posts/%5Bid%5D/edit/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '60052bfddedbe4582a47bbfcd45d178d2a8899a5c8'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}