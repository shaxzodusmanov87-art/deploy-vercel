{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/Archive/lib/prisma.ts"],"sourcesContent":["// import { PrismaClient } from \"../app/generated/prisma/client\";\n// import { PrismaPg } from \"@prisma/adapter-pg\";\n\n// const globalForPrisma = global as unknown as {\n// \tprisma: PrismaClient;\n// };\n\n// const adapter = new PrismaPg({\n// \tconnectionString: process.env.DATABASE_URL,\n// });\n\n// const prisma =\n// \tglobalForPrisma.prisma ||\n// \tnew PrismaClient({\n// \t\tadapter,\n// \t});\n\n// if (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\n// export default prisma;\n\n// lib/prisma.ts\n// import { PrismaClient } from \"@prisma/client\";\n\n// const globalForPrisma = global as unknown as { prisma: PrismaClient };\n\n// const prisma = globalForPrisma.prisma || new PrismaClient();\n\n// if (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\n// export default prisma;\n\n\nimport { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: [\"query\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\nexport default prisma;\n"],"names":[],"mappings":"AAAA,iEAAiE;AACjE,iDAAiD;AAEjD,iDAAiD;AACjD,yBAAyB;AACzB,KAAK;AAEL,iCAAiC;AACjC,+CAA+C;AAC/C,MAAM;AAEN,iBAAiB;AACjB,6BAA6B;AAC7B,sBAAsB;AACtB,aAAa;AACb,OAAO;AAEP,8EAA8E;AAE9E,yBAAyB;AAEzB,gBAAgB;AAChB,iDAAiD;AAEjD,yEAAyE;AAEzE,+DAA+D;AAE/D,8EAA8E;AAE9E,yBAAyB;;;;;;;AAGzB;;AAEA,MAAM,kBAAkB;AAEjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK;QAAC;KAAQ;AAChB;AAEF,wCAA2C,gBAAgB,MAAM,GAAG;uCAErD"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/Archive/app/api/auth/%5B...nextauth%5D/auth.ts"],"sourcesContent":["import { PrismaAdapter } from \"@next-auth/prisma-adapter\";\nimport { type NextAuthOptions } from \"next-auth\";\n\nimport GitHub from \"next-auth/providers/github\";\nimport Google from \"next-auth/providers/google\";\nimport Credentials from \"next-auth/providers/credentials\";\n\nimport prisma from \"@/lib/prisma\";\n\nexport const authOptions: NextAuthOptions = {\n  adapter: PrismaAdapter(prisma),\n\n  session: {\n    strategy: \"database\",\n  },\n\n  providers: [\n    GitHub({\n      clientId: process.env.GITHUB_ID!,\n      clientSecret: process.env.GITHUB_SECRET!,\n    }),\n\n    Google({\n      clientId: process.env.GOOGLE_ID!,\n      clientSecret: process.env.GOOGLE_SECRET!,\n    }),\n\n    Credentials({\n      name: \"Dotlabs\",\n      credentials: {\n        username: { label: \"Username\", type: \"text\" },\n        password: { label: \"Password\", type: \"password\" },\n      },\n\n      async authorize(credentials) {\n        if (!credentials) return null;\n\n        // тестовый пользователь (можно заменить на реальную проверку)\n        return {\n          id: \"test-user-1\",\n          name: \"Shakhzod Usmanov\",\n          email: \"shakhzodusmanov@example.com\",\n        };\n      },\n    }),\n  ],\n  callbacks: {\n       \n    async session({ session, user }) {\n      session.user = {\n        ...(session.user as any),\n        id: (user as any).id,\n        name: (user as any).name\n        // добавил name\n      }\n      \n      console.log(user.id)\n      console.log(user.name)\n\n      return session;\n    },\n  \n    \n  }\n};\n"],"names":[],"mappings":";;;;AAAA;AAGA;AACA;AACA;AAEA;;;;;;AAEO,MAAM,cAA+B;IAC1C,SAAS,IAAA,qLAAa,EAAC,wHAAM;IAE7B,SAAS;QACP,UAAU;IACZ;IAEA,WAAW;QACT,IAAA,8JAAM,EAAC;YACL,UAAU,QAAQ,GAAG,CAAC,SAAS;YAC/B,cAAc,QAAQ,GAAG,CAAC,aAAa;QACzC;QAEA,IAAA,8JAAM,EAAC;YACL,UAAU,QAAQ,GAAG,CAAC,SAAS;YAC/B,cAAc,QAAQ,GAAG,CAAC,aAAa;QACzC;QAEA,IAAA,mKAAW,EAAC;YACV,MAAM;YACN,aAAa;gBACX,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAO;gBAC5C,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YAEA,MAAM,WAAU,WAAW;gBACzB,IAAI,CAAC,aAAa,OAAO;gBAEzB,8DAA8D;gBAC9D,OAAO;oBACL,IAAI;oBACJ,MAAM;oBACN,OAAO;gBACT;YACF;QACF;KACD;IACD,WAAW;QAET,MAAM,SAAQ,EAAE,OAAO,EAAE,IAAI,EAAE;YAC7B,QAAQ,IAAI,GAAG;gBACb,GAAI,QAAQ,IAAI;gBAChB,IAAI,AAAC,KAAa,EAAE;gBACpB,MAAM,AAAC,KAAa,IAAI;YAE1B;YAEA,QAAQ,GAAG,CAAC,KAAK,EAAE;YACnB,QAAQ,GAAG,CAAC,KAAK,IAAI;YAErB,OAAO;QACT;IAGF;AACF"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/Archive/app/profile/edit/page.tsx"],"sourcesContent":["import { getServerSession } from \"next-auth\";\r\nimport { authOptions } from \"@/app/api/auth/[...nextauth]/auth\";\r\nimport prisma from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport default async function EditProfile() {\r\n  const session = await getServerSession(authOptions);\r\n  if (!session) return \"Not allowed\";\r\n\r\n  const userId = session.user.id;\r\n\r\n  const user = await prisma.user.findUnique({\r\n    where: { id: userId },\r\n  });\r\n\r\n  if (!user) return \"User not found\";\r\n\r\n  async function updateProfile(formData: FormData) {\r\n    \"use server\";\r\n\r\n    const name = formData.get(\"name\") as string;\r\n\r\n    await prisma.user.update({\r\n      where: { id: userId },\r\n      data: { name },\r\n    });\r\n\r\n    revalidatePath(\"/profile\");\r\n    redirect(\"/profile\");\r\n  }\r\n\r\n  return (\r\n    <form action={updateProfile} className=\"max-w-md mx-auto space-y-4 p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">Edit Profile</h1>\r\n\r\n      <div>\r\n        <label className=\"block mb-1 text-lg\">Name</label>\r\n        <input\r\n          name=\"name\"\r\n          defaultValue={user.name ?? \"\"}\r\n          className=\"w-full border p-2 rounded\"\r\n          required\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className=\"w-full bg-blue-600 text-white py-2 rounded\"\r\n      >\r\n        Update\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;MAcE,wBAAA,eAAe,sCAAc,QAAkB;;IAG7C,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,MAAM,wHAAM,CAAC,IAAI,CAAC,MAAM,CAAC;QACvB,OAAO;YAAE,EAAE;QAAS;QACpB,MAAM;YAAE;QAAK;IACf;IAEA,IAAA,+IAAc,EAAC;IACf,IAAA,iMAAQ,EAAC;AACX;+OAZA;AAZa,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,yJAAgB,EAAC,+JAAW;IAClD,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,SAAS,QAAQ,IAAI,CAAC,EAAE;IAE9B,MAAM,OAAO,MAAM,wHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACxC,OAAO;YAAE,IAAI;QAAO;IACtB;IAEA,IAAI,CAAC,MAAM,OAAO;QAEH,gBAAf;IAcA,qBACE,8OAAC;QAAK,QAAQ;QAAe,WAAU;;0BACrC,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,8OAAC;;kCACC,8OAAC;wBAAM,WAAU;kCAAqB;;;;;;kCACtC,8OAAC;wBACC,MAAK;wBACL,cAAc,KAAK,IAAI,IAAI;wBAC3B,WAAU;wBACV,QAAQ;;;;;;;;;;;;0BAIZ,8OAAC;gBACC,MAAK;gBACL,WAAU;0BACX;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/Archive/.next-internal/server/app/profile/edit/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '604dbc2a70a74a1a2af753e875579c6145359d944b'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}