{"version":3,"sources":["../../../../lib/prisma.ts","../../../../app/blog/posts/page.tsx"],"sourcesContent":["// import { PrismaClient } from \"../app/generated/prisma/client\";\n// import { PrismaPg } from \"@prisma/adapter-pg\";\n\n// const globalForPrisma = global as unknown as {\n// \tprisma: PrismaClient;\n// };\n\n// const adapter = new PrismaPg({\n// \tconnectionString: process.env.DATABASE_URL,\n// });\n\n// const prisma =\n// \tglobalForPrisma.prisma ||\n// \tnew PrismaClient({\n// \t\tadapter,\n// \t});\n\n// if (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\n// export default prisma;\n\n// lib/prisma.ts\n// import { PrismaClient } from \"@prisma/client\";\n\n// const globalForPrisma = global as unknown as { prisma: PrismaClient };\n\n// const prisma = globalForPrisma.prisma || new PrismaClient();\n\n// if (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\n// export default prisma;\n\n\nimport { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ||\n  new PrismaClient({\n    log: [\"query\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n\nexport default prisma;\n","import prisma from \"@/lib/prisma\";\nimport Link from \"next/link\";\n\nexport default async function Posts() {\n\tconst posts = await prisma.post.findMany({\n\t\tinclude: {\n\t\t\tauthor: true,\n\t\t},\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<h1 className=\"text-4xl font-bold mb-8 font-[family-name:var(--font-geist-sans)]\">\n\t\t\t\tPosts\n\t\t\t</h1>\n\t\t\t<ul className=\"font-[family-name:var(--font-geist-sans)] max-w-2xl space-y-4\">\n\t\t\t\t{posts.map((post) => (\n\t\t\t\t\t<li key={post.id}>\n\t\t\t\t\t\t<Link href={`/blog/posts/${post.id}`}>\n\t\t\t\t\t\t\t<span className=\"font-semibold\">{post.title}</span>\n\t\t\t\t\t\t\t<span className=\"text-sm text-gray-600 ml-2\">\n\t\t\t\t\t\t\t\tby {post.author.name} {post.author.email}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"0cAiCA,IAAA,EAAA,EAAA,CAAA,CAAA,OAIO,IAAM,EAFW,AAGtB,WAAgB,MAAM,EACtB,IAAI,EAAA,YAAY,CAAC,CACf,IAAK,CAAC,QAAQ,AAChB,oBAIa,kGC7Cf,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IAC7B,IAAM,EAAQ,MAAM,EAAA,OAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CACxC,QAAS,CACR,QAAQ,CACT,CACD,GAEA,MACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACA,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6EAAoE,UAGlF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yEACZ,EAAM,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UACA,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,YAAY,EAAE,EAAK,EAAE,CAAA,CAAE,WACnC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,EAAK,KAAK,GAC3C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uCAA6B,MACxC,EAAK,MAAM,CAAC,IAAI,CAAC,IAAE,EAAK,MAAM,CAAC,KAAK,QAJlC,EAAK,EAAE,OAYrB"}